<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.laonworks.shop.api.mapper.ItemMapper">

    <select id="selectItemDetailInfo" resultType="ItemVo">
        /*selectItemDetailInfo*/ SELECT
        A.PRDT_NO as itemId,
        A.PRDT_PRCE as price,
        A.PRDT_NM as name,
        A.PRDT_DESC as itemDetail,
        B.IMG_URL as image,
        C.LIKE_CNT as likeCnt,
        C.MBK_CNT as bookCnt
    FROM
        TB_PRODUCT A,
        TB_PRODUCT_IMAGE B,
        TB_PRODUCT_SOCIAL C
    WHERE
        A.PRDT_NO = #{pdNum, jdbcType=VARCHAR}
    </select>

    <select id="selectCommentList" resultType="String">
        <![CDATA[
        /*selectCommentList*/ SELECT
        A.CMT_CNTT as "comment"
    FROM
        TB_PRODUCT_COMMENT A
    WHERE
        PRDT_NO = #{pdNum, jdbcType=VARCHAR}
                                  ]]>
    </select>
</mapper>